{"ast":null,"code":"var _jsxFileName = \"D:\\\\scaler assignment\\\\cab-booking-frontend\\\\src\\\\components\\\\bookingform.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './bookingform.css';\nimport CabList from './cablist';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BookingForm() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [source, setSource] = useState('');\n  const [destination, setDestination] = useState('');\n  const [cabs, setCabs] = useState([]);\n  const [selectedCab, setSelectedCab] = useState(null);\n  const [getShortestRoute, setShortestRoute] = useState('');\n  const handleBooking = async () => {\n    try {\n      // Send a POST request to your backend to book a cab\n      const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/cab/bookCab`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: {\n          email,\n          source,\n          destination,\n          vehicleNumber: selectedCab.vehicleNumber\n        }\n      });\n      if (response.ok) {\n        // Handle success - display a success message or redirect to a confirmation page\n        console.log('Booking successful.');\n      } else {\n        // Handle error\n        console.error('Booking failed.');\n      }\n    } catch (error) {\n      console.error('An error occurred:', error);\n    }\n  };\n  const handleSearchCabs = async () => {\n    if (!source || !destination) {\n      alert('Source and destination are required.');\n      return;\n    }\n\n    // Check if the source and destination are within the valid range A to F\n    const validSources = ['A', 'B', 'C', 'D', 'E', 'F'];\n    if (!validSources.includes(source) || !validSources.includes(destination)) {\n      alert('Source and destination must be in the range A to F.');\n      return;\n    }\n    try {\n      const routeResponse = await fetch(`${process.env.REACT_APP_API_BASE_URL}/cab/getShortestRoute?src=${source}&dst=${destination}`);\n      const routeData = await routeResponse.json();\n      setShortestRoute(routeData.shortestRoute);\n      const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/cab/getAllCabStatus`);\n      if (response.ok) {\n        const data = await response.json();\n        console.log(data);\n        setCabs(data.CabStatus);\n      } else {\n        alert('Please provide valid source and destination.');\n        return;\n      }\n    } catch (error) {\n      console.error('An error occurred:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book a Cab\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"source\",\n        children: \"Source:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"source\",\n        value: source,\n        onChange: e => setSource(e.target.value),\n        placeholder: \"Source\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"destination\",\n        children: \"Destination:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"destination\",\n        value: destination,\n        onChange: e => setDestination(e.target.value),\n        placeholder: \"Destination\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearchCabs,\n        children: \"Search for Cabs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Available Cabs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cab-box\",\n      children: cabs.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: cabs.map((cab, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cab-button\",\n          onClick: e => {\n            console.log(e);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cab-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Cab Name: \", cab === null || cab === void 0 ? void 0 : cab.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Vehicle Number: \", cab === null || cab === void 0 ? void 0 : cab.vehicleNumber]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Rate per hour: \", cab === null || cab === void 0 ? void 0 : cab.rate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Time: \", getShortestRoute.totalTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Total price: \", getShortestRoute.totalTime * cab.rate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 37\n          }, this)\n        }, cab.vehicleNumber, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 33\n        }, this))\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n}\n_s(BookingForm, \"caLdbNLf9KqewmdvBxaDM2/76rg=\");\n_c = BookingForm;\nexport default BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["React","useState","CabList","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingForm","_s","email","setEmail","source","setSource","destination","setDestination","cabs","setCabs","selectedCab","setSelectedCab","getShortestRoute","setShortestRoute","handleBooking","response","fetch","process","env","REACT_APP_API_BASE_URL","method","headers","body","vehicleNumber","ok","console","log","error","handleSearchCabs","alert","validSources","includes","routeResponse","routeData","json","shortestRoute","data","CabStatus","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","value","onChange","e","target","placeholder","onClick","style","textAlign","length","map","cab","index","name","rate","totalTime","_c","$RefreshReg$"],"sources":["D:/scaler assignment/cab-booking-frontend/src/components/bookingform.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './bookingform.css';\r\nimport CabList from './cablist';\r\n\r\nfunction BookingForm() {\r\n    const [email, setEmail] = useState('');\r\n    const [source, setSource] = useState('');\r\n    const [destination, setDestination] = useState('');\r\n    const [cabs, setCabs] = useState([]);\r\n    const [selectedCab, setSelectedCab] = useState(null);\r\n    const [getShortestRoute, setShortestRoute] = useState('');\r\n\r\n    \r\n\r\n\r\n    const handleBooking = async () => {\r\n\r\n        try {\r\n            // Send a POST request to your backend to book a cab\r\n            const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/cab/bookCab`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: { email, source, destination, vehicleNumber: selectedCab.vehicleNumber },\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Handle success - display a success message or redirect to a confirmation page\r\n                console.log('Booking successful.');\r\n            } else {\r\n                // Handle error\r\n                console.error('Booking failed.');\r\n            }\r\n        } catch (error) {\r\n            console.error('An error occurred:', error);\r\n        }\r\n    }\r\n\r\n    const handleSearchCabs = async () => {\r\n        if (!source || !destination) {\r\n            alert('Source and destination are required.');\r\n            return;\r\n        }\r\n    \r\n        // Check if the source and destination are within the valid range A to F\r\n        const validSources = ['A', 'B', 'C', 'D', 'E', 'F'];\r\n        if (!validSources.includes(source) || !validSources.includes(destination)) {\r\n            alert('Source and destination must be in the range A to F.');\r\n            return;\r\n        }\r\n    \r\n        try {\r\n            const routeResponse = await fetch(\r\n                `${process.env.REACT_APP_API_BASE_URL}/cab/getShortestRoute?src=${source}&dst=${destination}`\r\n            );\r\n            const routeData = await routeResponse.json();\r\n            setShortestRoute(routeData.shortestRoute);\r\n            const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/cab/getAllCabStatus`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                console.log(data);\r\n                setCabs(data.CabStatus);\r\n            } else {\r\n                alert('Please provide valid source and destination.');\r\n                return;\r\n            }\r\n        } catch (error) {\r\n            console.error('An error occurred:', error);\r\n        }\r\n    };\r\n    \r\n    \r\n    return (\r\n        <>\r\n        <div className=\"booking-form\">\r\n            <h2>Book a Cab</h2>\r\n            <label htmlFor=\"source\">Source:</label>\r\n            <input\r\n                type=\"text\"\r\n                id=\"source\"\r\n                value={source}\r\n                onChange={(e) => setSource(e.target.value)}\r\n                placeholder=\"Source\"\r\n            />\r\n            <label htmlFor=\"destination\">Destination:</label>\r\n            <input\r\n                type=\"text\"\r\n                id=\"destination\"\r\n                value={destination}\r\n                onChange={(e) => setDestination(e.target.value)}\r\n                placeholder=\"Destination\"\r\n            />\r\n            <button onClick={handleSearchCabs}>Search for Cabs</button>\r\n            \r\n        </div>\r\n        <hr/>\r\n        <hr/>\r\n        <h3 style={{textAlign: \"center\"}}>Available Cabs</h3>\r\n         <div className='cab-box'>\r\n                {cabs.length > 0 && (\r\n                    <>\r\n                            {cabs.map((cab, index) => (\r\n                                <button className='cab-button' key={cab.vehicleNumber} onClick={(e) => {console.log(e)}}>\r\n                                    <div className='cab-container'>\r\n                                        <h3>Cab Name: {cab?.name}</h3>\r\n                                        <h3>Vehicle Number: {cab?.vehicleNumber}</h3>\r\n                                        <p>Rate per hour: {cab?.rate}</p>\r\n                                        <p>Time: {getShortestRoute.totalTime}</p>\r\n                                        <p>Total price: {getShortestRoute.totalTime * cab.rate}</p>\r\n                                    </div>\r\n                                </button>\r\n                            ))}\r\n                    </>\r\n                )}\r\n         </div>\r\n         </>\r\n    );\r\n}\r\n\r\nexport default BookingForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}